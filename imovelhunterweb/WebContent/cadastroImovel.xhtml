<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html lang="pt-br"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
	<title>Imovel Hunter Web</title>	
	<link rel="stylesheet" href="css/personalizado/normalize.css" />
	<link rel="stylesheet" href="css/personalizado/colunasgrid.css" />
	<link rel="shortcut icon" href="imovelhunterlogo.png" />
	<link href='http://fonts.googleapis.com/css?family=Roboto:400,100,300,700' rel='stylesheet' type='text/css' />
	<link rel="stylesheet" href="css/personalizado/estilo.css" />
	
	
	<style>
	
	.ui-wizard-content td{
		padding: 2px 5px;
	}
	
	.ui-widget-header {
	  border: 1px solid #eeeeee;
	  background: #1f3c58;
/* 	  color: #FFFFFF; */
	  font-weight: bold;
	}
	
	.ui-widget-header span {	  
	  color: #FFFFFF;	
	}
	
	.ui-dialog.ui-widget-content .ui-dialog-titlebar {
	  padding: 9px 15px;
	  border-bottom: 1px solid #eee;
 	  background-color: #1f3c58; 
	}
	
	.ui-button .ui-button-text {
	  display: block;
	  line-height: 1.4;
	  background-color: #1f3c58;
	  color: #FFFFFF;
	}
	
	.ui-button .ui-button-text:hover {
		background: #315e8a !important;
		text-decoration: none !important;	
	}
	
	
/* 	menuzinho de cima selecionado */
	
	.ui-state-highlight, .ui-widget-content .ui-state-highlight, .ui-widget-header .ui-state-highlight {
	  color: #ffffff;
	  text-decoration: none;
	  background-color: #0088cc;
	  background-color: #1f3c58;
	  background-position: 0px;
	  background-image: -moz-linear-gradient(top, #0088cc, #0077b3);
	  background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#0088cc), to(#0077b3));
	  background-image: -webkit-linear-gradient(top, #0088cc, #0077b3);
	  background-image: -o-linear-gradient(top, #0088cc, #0077b3);
	  background-image: linear-gradient(to bottom, #315e8a, #1f3c58) !important;
	  background-repeat: repeat-x;
	  filter: progid:dximagetransform.microsoft.gradient(startColorstr='#ff0088cc', endColorstr='#ff0077b3', GradientType=0);
	}
	
	
	/* menuzinho de cima não selecionado*/
	
	.ui-wizard ul li{
	  color: #FFFFFF;	  
	  background-image: -webkit-linear-gradient(top, #1f3c58, #1f3c58);	 
	}
	
	input[type=submit]{
		background: #1f3c58 !important;
		padding: 5px 10px !important;
		border-radius:3px !important;
		color: #ebebeb !important;
		cursor: pointer !important;
		margin: 5px 0 !important;
		display: inline-block !important;
		border: none !important;
	}
	
	input[type=submit]:hover{
		background: #315e8a !important;
		text-decoration: none !important;
	}
	
	
	</style>
	
</h:head>
<h:body>

	<!-- 	primefaces -->
	
	<h:form>
    	<p:remoteCommand name="rc" action="#{loginBean.deslogar}" />    
	</h:form>
	
	
	<!-- dialog de processo -->
		<p:ajaxStatus onstart="processandoDialog.show();"
			onsuccess="processandoDialog.hide();" />
			
		<p:dialog modal="true" widgetVar="processandoDialog" resizable="false"
			header="#{msg['ajax.processando']}" draggable="false" closable="false"
			style="font-size:8pt;">
			<p:graphicImage value="/images/ajax_loader.gif" />
		</p:dialog>
		
		<h:form id="idFormMensagem">
			<p:growl autoUpdate="false" showDetail="true" life="3000" />
		</h:form>
	
	
<!-- 	primefaces fim -->

	<div class="header">
		
		<div class="linha">
		
			<header>
			
				<div class="coluna col2">
					<h1 class="logo">Imovel Hunter</h1>
				</div>
				
				<div class="coluna col10">
					<nav>
						<ul class="menu inline sem-marcador">
							<li><a class="selecionado" href="cadastroImovel.xhtml" >Cadastrar imóvel</a></li>
							<li><a href="detalheImovel.xhtml">Imoveis cadastrados</a></li>							
							<h:outputText escape="false" value="#{loginBean.logado}"></h:outputText>	
						</ul>
					</nav>
				</div>
			</header>
		
		</div>
	
	</div>
	
	<div class="linha" style="height:100px;" />
	
	<div class="linha-maior">
	
					
			
			<div class="coluna col14">
			<h:form>
				<p:wizard flowListener="#{imovelBean.onFlowProcess}"
					nextLabel="Proxímo" backLabel="Voltar">
					<p:tab id="imovelEndereco" title="Dados Gerais">
						<p:panel header="Geral">
							<h:panelGrid id="dadosGeral" columns="4"
								columnClasses="label, value">
								<h:outputText value="Proprietário:*" />
								<p:inputText value="#{imovelBean.imovel.nomeDoProprietario}"
									required="false" label="Proprietário" />

								<h:outputText value="CEP:*" />
								<p:inputText immediate="true" value="#{imovelBean.cep}" required="false"
									label="CEP">
									<p:ajax event="blur" 
										update="jsf_logradouro, jsf_bairro, jsf_cidade, jsf_estado" />
								</p:inputText>

								<h:outputText value="Logradouro:*" />
								<p:inputText id="jsf_logradouro"
									value="#{imovelBean.imovel.logradouro}" required="false"
									label="logradouro" />

								<h:outputText value="Bairro:*" />
								<p:inputText id="jsf_bairro" value="#{imovelBean.imovel.bairro}"
									required="false" label="Bairro" />

								<h:outputText value="Cidade:*" />
								<p:inputText id="jsf_cidade" value="#{imovelBean.imovel.cidade}"
									required="false" label="Cidade" />

								<h:outputText value="Estado:*" />
								<p:inputText id="jsf_estado" value="#{imovelBean.imovel.estado}"
									required="false" label="Estado" />

								<h:outputText value="Número:*" />
								<p:inputText value="#{imovelBean.imovel.numeroDoImovel}"
									required="false" label="Numero" />

								<h:outputText value="Complemento: " />
								<p:inputText value="#{imovelBean.imovel.complemento}"
									required="false" label="Complemento" />
	
								<h:outputText value="Tipo do Imóvel: " />
								<h:selectOneMenu value="#{imovelBean.imovel.tipoImovel}">
									<f:selectItems value="#{imovelBean.tipoImovel}" var="b"
										itemValue="#{b}" itemLabel="#{b.nome}" />
								</h:selectOneMenu>
									
								<h:outputText value="Valor R$:*" />
								<p:inputText id="sfs_valorVenda"
									value="#{imovelBean.valorImovel}"></p:inputText>									

								<h:outputText value="Situação: " />
								<h:selectOneMenu value="#{imovelBean.imovel.situacaoImovel}">
									<f:selectItems value="#{imovelBean.situacao}" var="a"
										itemValue="#{a}" itemLabel="#{a.nome}" />
								</h:selectOneMenu>
							</h:panelGrid>
							<h5>(*) Campos de preenchimento obrigatório.</h5>	
						</p:panel>
					</p:tab>

					<p:tab id="imovelCaracteristica" title="Características">
						<p:panel header="Informe as características do imóvel">
							<h:panelGrid columns="4">
								<h:outputText value="Número de quartos: " />
								<p:inputText id="sfs_numeroQuartos"
									value="#{imovelBean.imovel.numeroDeQuartos}"></p:inputText>

								<h:outputText value="número de Salas: " />
								<p:inputText id="sfs_salas"
									value="#{imovelBean.imovel.numeroDeSalas}"></p:inputText>

								<h:outputText value="Ambientes: " />
								<p:inputText id="sfs_ambientes"
									value="#{imovelBean.imovel.ambientes}"></p:inputText>

								<h:outputText value="Banheiros: " />
								<p:inputText id="sfs_numeroBanheiros"
									value="#{imovelBean.imovel.numeroDeBanheiros}"></p:inputText>

								<h:outputText value="número de Suítes: " />
								<p:inputText id="sfs_suites"
									value="#{imovelBean.imovel.numeroDeSuites}"></p:inputText>

								<h:outputText value="Área util m²: " />
								<p:inputText id="sfs_areaUtil"
									value="#{imovelBean.imovel.areaTotal}"></p:inputText>

							</h:panelGrid>
							<!-- 
				                <h:outputText value="Valor do condominio R$: " />
				                <p:inputText id="sfs_valorCondominio" value=""></p:inputText>
				              
				                <h:outputText value="Minha casa minha vida: " />
				                <h:selectOneMenu  value="#{user.favMinhacasa}" >
				                   	<f:selectItem itemValue="1" itemLabel="Sim" />
				                   	<f:selectItem itemValue="2" itemLabel="Não" />				                
				                </h:selectOneMenu><br />				              
								<br/><br/>
							  	
		 						-->
							<h:panelGrid columns="2" rowClasses="linha"
								columnClasses="label, value">
								<p:dataGrid style="width:100%; border:none;" id="checks"
									columns="8" value="#{imovelBean.allCacaracteristicas}"
									var="item"
									emptyMessage="Nenhuma Caracteristica cadastrada no momento.">
									<p:column headerText="Características">
										<p:selectBooleanCheckbox
											value="#{imovelBean.checked[item.idCaracteristica]}" />
										<h:outputLabel value="#{item.nome}" />
									</p:column>
								</p:dataGrid>
								<br />
								<br />
							</h:panelGrid>
						</p:panel>
					</p:tab>

					<p:tab id="imovelGaleria" title="Galeria">
						<p:panel header="Galeria">
							<h:panelGrid id="painelGrid" columns="2" cellpadding="10">
								<!--  <h:form id="formUpload" enctype="multipart/form-data">    -->

								<p:dataTable style="width:800px;" id="galeria"
									value="#{imovelBean.imagens}" var="item" rows="1"
									emptyMessage="Nenhuma imagem cadastrada no momento."
									paginator="true"
									paginatorTemplate="{CurrentPageReport}
													   {FirstPageLink}
													   {PreviousPageLink} 
								   					   {PageLinks}
								   					   {NextPageLink}
								   					   {LastPageLink}
								   					   {RowsPerPageDropdown}">
									<p:column>
										<f:facet name="header">
											<h:outputText value="Imagens Selecionadas" />
										</f:facet>
										<h:panelGrid columns="2">

											<p:graphicImage
												value="/uploads/imagens/#{item.caminhoImagem}" />

											<p:inputTextarea rows="10" cols="50"
												value="#{item.descricao}"></p:inputTextarea>

											<f:facet name="footer">
												<h:commandButton
													actionListener="#{imovelBean.removerImagem(item.caminhoImagem)}"
													value="Remover" style="float: right;" />
											</f:facet>
										</h:panelGrid>
									</p:column>
								</p:dataTable>
								<br />

								<p:fileUpload fileUploadListener="#{imovelBean.upload}"
									mode="advanced" auto="true" label="Procurar" update="galeria"
									sizeLimit="5000000" style="width:800px;"
									allowTypes="/(\.|\/)(gif|jpe?g|png|pdf)$/" />

								<h:commandButton value="Finalizar"
									actionListener="#{imovelBean.cadastrarImovel}"
									style="float: right;" />

								<!--  </h:form>  -->
							</h:panelGrid>
						</p:panel>
					</p:tab>
				</p:wizard>
			</h:form>
			</div>
		
		
	
	</div>
	
		<div class="linha" style="height:100px;" />

		
	

	
	<div class="footer">
		
		<div class="linha">
		
			<footer>
			
				<div class="coluna col12">
					
					<span>&copy; #{loginBean.anoAgora} - Imovel Hunter</span>
					
				</div>
			
			</footer>
		
		</div>
	
	
	</div>
	

</h:body>
</html>